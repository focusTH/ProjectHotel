{"ast":null,"code":"import _asyncToGenerator from \"D:/\\u0E07\\u0E32\\u0E19/Project/ProjectHotel/hotelbooking/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { ConfirmationService } from 'primeng/api';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"angularfire2/database\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"../service/login.service\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"primeng/button\";\nimport * as i8 from \"primeng/confirmdialog\";\n\nfunction LoginComponent_ng_template_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\");\n    i0.ɵɵtext(1, \"Warning\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_ng_template_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function LoginComponent_ng_template_29_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      i0.ɵɵnextContext();\n\n      const _r0 = i0.ɵɵreference(27);\n\n      return _r0.accept();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return {\n    width: \"50vw\"\n  };\n};\n\nexport class LoginComponent {\n  constructor(router, db, confirmationService, loginService, http) {\n    this.router = router;\n    this.db = db;\n    this.confirmationService = confirmationService;\n    this.loginService = loginService;\n    this.http = http;\n    this.Check = false;\n  }\n\n  ngOnInit() {\n    this.getStarted();\n  }\n\n  getStarted() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var user;\n      yield _this.getUserFromRealtimeDB().then(value => {\n        user = value;\n        console.log(user);\n        _this.userlist = user;\n      });\n\n      for (let i = 0; i < _this.userlist.length; i++) {\n        console.log(_this.userlist[i]);\n      }\n    })();\n  }\n\n  getUserFromRealtimeDB() {\n    return new Promise((resolve, reject) => {\n      this.db.list('login').valueChanges().subscribe(value => {\n        resolve(value);\n      });\n    });\n  }\n\n  onLogin() {\n    if (this.username && this.password) {\n      var data = {\n        username: this.username,\n        password: this.password\n      };\n\n      for (let i = 0; i < this.userlist.length; i++) {\n        // console.log(this.userlist[i].username);\n        // console.log(this.userlist[i].password);\n        if (data.username == this.userlist[i].username && data.password == this.userlist[i].password) {\n          console.log('login');\n          this.Check = true;\n          this.userUID = this.userlist[i].uid; //uid\n\n          this.userData = this.userlist[i]; //all userdata\n\n          this.router.navigateByUrl('/dashboard');\n        }\n      }\n\n      if (this.Check != true) {\n        console.log('failed');\n        this.password = \"\";\n        this.checkPss();\n      }\n    }\n  }\n\n  checkPss() {\n    this.confirmationService.confirm({\n      message: 'Incorrect username or password.',\n      header: 'Confirmation',\n      icon: 'pi pi-exclamation-triangle',\n      accept: () => {\n        console.log('Please check password');\n      }\n    });\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AngularFireDatabase), i0.ɵɵdirectiveInject(i3.ConfirmationService), i0.ɵɵdirectiveInject(i4.LoginService), i0.ɵɵdirectiveInject(i5.HttpClient));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  features: [i0.ɵɵProvidersFeature([ConfirmationService])],\n  decls: 30,\n  vars: 5,\n  consts: [[\"align\", \"center\", 1, \"container\", \"pt-5\", 2, \"background-image\", \"url('../../assets/img/login.jpg')\", \"width\", \"1600px\", \"height\", \"700px\"], [\"align\", \"left\", 1, \"card\", \"py-3\", \"my-5\", 2, \"width\", \"500px\"], [1, \"card-body\"], [1, \"row\"], [1, \"text-center\"], [1, \"form-group\"], [1, \"row\", \"py-2\"], [1, \"col-1\", \"py-1\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-user-circle-o\"], [1, \"col-11\"], [\"type\", \"text\", \"placeholder\", \"USERNAME OR E-MAIL\", \"maxlength\", \"20\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-unlock-alt\"], [\"type\", \"password\", \"placeholder\", \"PASSWORD\", \"maxlength\", \"20\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"align\", \"center\", 1, \"row\", \"py-2\"], [1, \"col\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"LOGIN\", 1, \"p-button-rounded\", \"p-button-primary\", 3, \"click\"], [\"align\", \"center\", 1, \"row\"], [\"href\", \"register\"], [\"cd\", \"\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"footer\"], [\"type\", \"button\", \"pButton\", \"\", \"icon\", \"pi pi-check\", \"label\", \"OK\", 3, \"click\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"h6\", 4);\n      i0.ɵɵelementStart(5, \"b\");\n      i0.ɵɵtext(6, \"Log in\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 5);\n      i0.ɵɵelementStart(8, \"div\", 6);\n      i0.ɵɵelementStart(9, \"div\", 7);\n      i0.ɵɵelement(10, \"i\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 9);\n      i0.ɵɵelementStart(12, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.username = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 6);\n      i0.ɵɵelementStart(14, \"div\", 7);\n      i0.ɵɵelement(15, \"i\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 9);\n      i0.ɵɵelementStart(17, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"br\");\n      i0.ɵɵelementStart(19, \"div\", 13);\n      i0.ɵɵelementStart(20, \"div\", 14);\n      i0.ɵɵelementStart(21, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_21_listener() {\n        return ctx.onLogin();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 16);\n      i0.ɵɵelementStart(23, \"div\", 14);\n      i0.ɵɵelementStart(24, \"a\", 17);\n      i0.ɵɵtext(25, \"or, Register\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"p-confirmDialog\", null, 18);\n      i0.ɵɵtemplate(28, LoginComponent_ng_template_28_Template, 2, 0, \"ng-template\", 19);\n      i0.ɵɵtemplate(29, LoginComponent_ng_template_29_Template, 1, 0, \"ng-template\", 20);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngModel\", ctx.username);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(9);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(4, _c0));\n    }\n  },\n  directives: [i6.DefaultValueAccessor, i6.MaxLengthValidator, i6.NgControlStatus, i6.NgModel, i7.ButtonDirective, i8.ConfirmDialog, i3.PrimeTemplate],\n  styles: [\"h6[_ngcontent-%COMP%]{\\r\\n    font-size: 40px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxlQUFlO0FBQ25CIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJoNntcclxuICAgIGZvbnQtc2l6ZTogNDBweDtcclxufSJdfQ== */\"]\n});\n\nclass User {}","map":{"version":3,"sources":["D:/งาน/Project/ProjectHotel/hotelbooking/src/app/login/login.component.ts"],"names":["ConfirmationService","i0","i1","i2","i3","i4","i5","i6","i7","i8","LoginComponent_ng_template_28_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","LoginComponent_ng_template_29_Template","_r4","ɵɵgetCurrentView","ɵɵlistener","LoginComponent_ng_template_29_Template_button_click_0_listener","ɵɵrestoreView","ɵɵnextContext","_r0","ɵɵreference","accept","_c0","width","LoginComponent","constructor","router","db","confirmationService","loginService","http","Check","ngOnInit","getStarted","user","getUserFromRealtimeDB","then","value","console","log","userlist","i","length","Promise","resolve","reject","list","valueChanges","subscribe","onLogin","username","password","data","userUID","uid","userData","navigateByUrl","checkPss","confirm","message","header","icon","ɵfac","LoginComponent_Factory","t","ɵɵdirectiveInject","Router","AngularFireDatabase","LoginService","HttpClient","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","LoginComponent_Template","ɵɵelement","LoginComponent_Template_input_ngModelChange_12_listener","$event","LoginComponent_Template_input_ngModelChange_17_listener","LoginComponent_Template_button_click_21_listener","ɵɵtemplate","ɵɵadvance","ɵɵproperty","ɵɵstyleMap","ɵɵpureFunction0","directives","DefaultValueAccessor","MaxLengthValidator","NgControlStatus","NgModel","ButtonDirective","ConfirmDialog","PrimeTemplate","styles","User"],"mappings":"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","sourcesContent":["import { ConfirmationService } from 'primeng/api';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"angularfire2/database\";\r\nimport * as i3 from \"primeng/api\";\r\nimport * as i4 from \"../service/login.service\";\r\nimport * as i5 from \"@angular/common/http\";\r\nimport * as i6 from \"@angular/forms\";\r\nimport * as i7 from \"primeng/button\";\r\nimport * as i8 from \"primeng/confirmdialog\";\r\nfunction LoginComponent_ng_template_28_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"h3\");\r\n    i0.ɵɵtext(1, \"Warning\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction LoginComponent_ng_template_29_Template(rf, ctx) { if (rf & 1) {\r\n    const _r4 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"button\", 21);\r\n    i0.ɵɵlistener(\"click\", function LoginComponent_ng_template_29_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r4); i0.ɵɵnextContext(); const _r0 = i0.ɵɵreference(27); return _r0.accept(); });\r\n    i0.ɵɵelementEnd();\r\n} }\r\nconst _c0 = function () { return { width: \"50vw\" }; };\r\nexport class LoginComponent {\r\n    constructor(router, db, confirmationService, loginService, http) {\r\n        this.router = router;\r\n        this.db = db;\r\n        this.confirmationService = confirmationService;\r\n        this.loginService = loginService;\r\n        this.http = http;\r\n        this.Check = false;\r\n    }\r\n    ngOnInit() {\r\n        this.getStarted();\r\n    }\r\n    async getStarted() {\r\n        var user;\r\n        await this.getUserFromRealtimeDB().then(value => {\r\n            user = value;\r\n            console.log(user);\r\n            this.userlist = user;\r\n        });\r\n        for (let i = 0; i < this.userlist.length; i++) {\r\n            console.log(this.userlist[i]);\r\n        }\r\n    }\r\n    getUserFromRealtimeDB() {\r\n        return new Promise((resolve, reject) => {\r\n            this.db.list('login').valueChanges().subscribe(value => {\r\n                resolve(value);\r\n            });\r\n        });\r\n    }\r\n    onLogin() {\r\n        if (this.username && this.password) {\r\n            var data = {\r\n                username: this.username,\r\n                password: this.password,\r\n            };\r\n            for (let i = 0; i < this.userlist.length; i++) {\r\n                // console.log(this.userlist[i].username);\r\n                // console.log(this.userlist[i].password);\r\n                if (data.username == this.userlist[i].username && data.password == this.userlist[i].password) {\r\n                    console.log('login');\r\n                    this.Check = true;\r\n                    this.userUID = this.userlist[i].uid; //uid\r\n                    this.userData = this.userlist[i]; //all userdata\r\n                    this.router.navigateByUrl('/dashboard');\r\n                }\r\n            }\r\n            if (this.Check != true) {\r\n                console.log('failed');\r\n                this.password = \"\";\r\n                this.checkPss();\r\n            }\r\n        }\r\n    }\r\n    checkPss() {\r\n        this.confirmationService.confirm({\r\n            message: 'Incorrect username or password.',\r\n            header: 'Confirmation',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            accept: () => {\r\n                console.log('Please check password');\r\n            }\r\n        });\r\n    }\r\n}\r\nLoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AngularFireDatabase), i0.ɵɵdirectiveInject(i3.ConfirmationService), i0.ɵɵdirectiveInject(i4.LoginService), i0.ɵɵdirectiveInject(i5.HttpClient)); };\r\nLoginComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginComponent, selectors: [[\"app-login\"]], features: [i0.ɵɵProvidersFeature([ConfirmationService])], decls: 30, vars: 5, consts: [[\"align\", \"center\", 1, \"container\", \"pt-5\", 2, \"background-image\", \"url('../../assets/img/login.jpg')\", \"width\", \"1600px\", \"height\", \"700px\"], [\"align\", \"left\", 1, \"card\", \"py-3\", \"my-5\", 2, \"width\", \"500px\"], [1, \"card-body\"], [1, \"row\"], [1, \"text-center\"], [1, \"form-group\"], [1, \"row\", \"py-2\"], [1, \"col-1\", \"py-1\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-user-circle-o\"], [1, \"col-11\"], [\"type\", \"text\", \"placeholder\", \"USERNAME OR E-MAIL\", \"maxlength\", \"20\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-unlock-alt\"], [\"type\", \"password\", \"placeholder\", \"PASSWORD\", \"maxlength\", \"20\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"align\", \"center\", 1, \"row\", \"py-2\"], [1, \"col\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"LOGIN\", 1, \"p-button-rounded\", \"p-button-primary\", 3, \"click\"], [\"align\", \"center\", 1, \"row\"], [\"href\", \"register\"], [\"cd\", \"\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"footer\"], [\"type\", \"button\", \"pButton\", \"\", \"icon\", \"pi pi-check\", \"label\", \"OK\", 3, \"click\"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelementStart(3, \"div\", 3);\r\n        i0.ɵɵelementStart(4, \"h6\", 4);\r\n        i0.ɵɵelementStart(5, \"b\");\r\n        i0.ɵɵtext(6, \"Log in\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"div\", 5);\r\n        i0.ɵɵelementStart(8, \"div\", 6);\r\n        i0.ɵɵelementStart(9, \"div\", 7);\r\n        i0.ɵɵelement(10, \"i\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"div\", 9);\r\n        i0.ɵɵelementStart(12, \"input\", 10);\r\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_12_listener($event) { return ctx.username = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"div\", 6);\r\n        i0.ɵɵelementStart(14, \"div\", 7);\r\n        i0.ɵɵelement(15, \"i\", 11);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"div\", 9);\r\n        i0.ɵɵelementStart(17, \"input\", 12);\r\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_17_listener($event) { return ctx.password = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(18, \"br\");\r\n        i0.ɵɵelementStart(19, \"div\", 13);\r\n        i0.ɵɵelementStart(20, \"div\", 14);\r\n        i0.ɵɵelementStart(21, \"button\", 15);\r\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_21_listener() { return ctx.onLogin(); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"div\", 16);\r\n        i0.ɵɵelementStart(23, \"div\", 14);\r\n        i0.ɵɵelementStart(24, \"a\", 17);\r\n        i0.ɵɵtext(25, \"or, Register\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"p-confirmDialog\", null, 18);\r\n        i0.ɵɵtemplate(28, LoginComponent_ng_template_28_Template, 2, 0, \"ng-template\", 19);\r\n        i0.ɵɵtemplate(29, LoginComponent_ng_template_29_Template, 1, 0, \"ng-template\", 20);\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(12);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.username);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(4, _c0));\r\n    } }, directives: [i6.DefaultValueAccessor, i6.MaxLengthValidator, i6.NgControlStatus, i6.NgModel, i7.ButtonDirective, i8.ConfirmDialog, i3.PrimeTemplate], styles: [\"h6[_ngcontent-%COMP%]{\\r\\n    font-size: 40px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxlQUFlO0FBQ25CIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJoNntcclxuICAgIGZvbnQtc2l6ZTogNDBweDtcclxufSJdfQ== */\"] });\r\nclass User {\r\n}\r\n"]},"metadata":{},"sourceType":"module"}