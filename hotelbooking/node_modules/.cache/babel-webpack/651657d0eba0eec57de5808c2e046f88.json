{"ast":null,"code":"import _asyncToGenerator from \"D:/\\u0E07\\u0E32\\u0E19/Project/ProjectHotel/hotelbooking/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { MessageService } from 'primeng/api';\nlet BookingComponent = class BookingComponent {\n  constructor(db) {\n    this.db = db;\n    this.getStarted();\n  }\n\n  getStarted() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var booking; // this._id = this._bookingList[this._bookingList.length - 1].id + 1\n\n      yield _this.getBookingFromRealtimeDB().then(value => {\n        booking = value;\n        _this._bookingList = booking;\n      });\n      console.log(_this._bookingList);\n      _this._id = _this._bookingList[_this._bookingList.length - 1].id + 1;\n      console.log(_this._id);\n    })();\n  }\n\n  getBookingFromRealtimeDB() {\n    return new Promise((resolve, reject) => {\n      this.db.list('booking').valueChanges().subscribe(value => {\n        resolve(value);\n      });\n    });\n  } // constructor(private primengConfig: PrimeNGConfig) {}\n\n\n  ngOnInit() {}\n\n  addBooking() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var data = {\n        id: _this2._id,\n        tel: _this2._tel,\n        dayNumb: _this2._dayNumb,\n        dayIn: _this2._dayIn,\n        dayOut: _this2._dayOut,\n        price: _this2._price\n      };\n      yield _this2.db.object('payment/' + String(_this2._id)).set(data);\n      yield _this2.getStarted();\n    })();\n  }\n\n};\nBookingComponent = __decorate([Component({\n  selector: 'app-booking',\n  templateUrl: './booking.component.html',\n  styleUrls: ['./booking.component.css'],\n  providers: [MessageService]\n})], BookingComponent);\nexport { BookingComponent };\n\nclass Booking {}","map":{"version":3,"sources":["D:/งาน/Project/ProjectHotel/hotelbooking/src/app/booking/booking.component.ts"],"names":["__decorate","Component","MessageService","BookingComponent","constructor","db","getStarted","booking","getBookingFromRealtimeDB","then","value","_bookingList","console","log","_id","length","id","Promise","resolve","reject","list","valueChanges","subscribe","ngOnInit","addBooking","data","tel","_tel","dayNumb","_dayNumb","dayIn","_dayIn","dayOut","_dayOut","price","_price","object","String","set","selector","templateUrl","styleUrls","providers","Booking"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,cAAT,QAA+B,aAA/B;AACA,IAAIC,gBAAgB,GAAG,MAAMA,gBAAN,CAAuB;AAC1CC,EAAAA,WAAW,CAACC,EAAD,EAAK;AACZ,SAAKA,EAAL,GAAUA,EAAV;AACA,SAAKC,UAAL;AACH;;AACKA,EAAAA,UAAU,GAAG;AAAA;;AAAA;AACf,UAAIC,OAAJ,CADe,CAEf;;AACA,YAAM,KAAI,CAACC,wBAAL,GAAgCC,IAAhC,CAAqCC,KAAK,IAAI;AAChDH,QAAAA,OAAO,GAAGG,KAAV;AACA,QAAA,KAAI,CAACC,YAAL,GAAoBJ,OAApB;AACH,OAHK,CAAN;AAIAK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACF,YAAjB;AACA,MAAA,KAAI,CAACG,GAAL,GAAW,KAAI,CAACH,YAAL,CAAkB,KAAI,CAACA,YAAL,CAAkBI,MAAlB,GAA2B,CAA7C,EAAgDC,EAAhD,GAAqD,CAAhE;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACC,GAAjB;AATe;AAUlB;;AACDN,EAAAA,wBAAwB,GAAG;AACvB,WAAO,IAAIS,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,WAAKd,EAAL,CAAQe,IAAR,CAAa,SAAb,EAAwBC,YAAxB,GAAuCC,SAAvC,CAAiDZ,KAAK,IAAI;AACtDQ,QAAAA,OAAO,CAACR,KAAD,CAAP;AACH,OAFD;AAGH,KAJM,CAAP;AAKH,GAtByC,CAuB1C;;;AACAa,EAAAA,QAAQ,GAAG,CACV;;AACKC,EAAAA,UAAU,GAAG;AAAA;;AAAA;AACf,UAAIC,IAAI,GAAG;AACPT,QAAAA,EAAE,EAAE,MAAI,CAACF,GADF;AAEPY,QAAAA,GAAG,EAAE,MAAI,CAACC,IAFH;AAGPC,QAAAA,OAAO,EAAE,MAAI,CAACC,QAHP;AAIPC,QAAAA,KAAK,EAAE,MAAI,CAACC,MAJL;AAKPC,QAAAA,MAAM,EAAE,MAAI,CAACC,OALN;AAMPC,QAAAA,KAAK,EAAE,MAAI,CAACC;AANL,OAAX;AAQA,YAAM,MAAI,CAAC9B,EAAL,CAAQ+B,MAAR,CAAe,aAAcC,MAAM,CAAC,MAAI,CAACvB,GAAN,CAAnC,EAAgDwB,GAAhD,CAAoDb,IAApD,CAAN;AACA,YAAM,MAAI,CAACnB,UAAL,EAAN;AAVe;AAWlB;;AArCyC,CAA9C;AAuCAH,gBAAgB,GAAGH,UAAU,CAAC,CAC1BC,SAAS,CAAC;AACNsC,EAAAA,QAAQ,EAAE,aADJ;AAENC,EAAAA,WAAW,EAAE,0BAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,yBAAD,CAHL;AAINC,EAAAA,SAAS,EAAE,CAACxC,cAAD;AAJL,CAAD,CADiB,CAAD,EAO1BC,gBAP0B,CAA7B;AAQA,SAASA,gBAAT;;AACA,MAAMwC,OAAN,CAAc","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { MessageService } from 'primeng/api';\r\nlet BookingComponent = class BookingComponent {\r\n    constructor(db) {\r\n        this.db = db;\r\n        this.getStarted();\r\n    }\r\n    async getStarted() {\r\n        var booking;\r\n        // this._id = this._bookingList[this._bookingList.length - 1].id + 1\r\n        await this.getBookingFromRealtimeDB().then(value => {\r\n            booking = value;\r\n            this._bookingList = booking;\r\n        });\r\n        console.log(this._bookingList);\r\n        this._id = this._bookingList[this._bookingList.length - 1].id + 1;\r\n        console.log(this._id);\r\n    }\r\n    getBookingFromRealtimeDB() {\r\n        return new Promise((resolve, reject) => {\r\n            this.db.list('booking').valueChanges().subscribe(value => {\r\n                resolve(value);\r\n            });\r\n        });\r\n    }\r\n    // constructor(private primengConfig: PrimeNGConfig) {}\r\n    ngOnInit() {\r\n    }\r\n    async addBooking() {\r\n        var data = {\r\n            id: this._id,\r\n            tel: this._tel,\r\n            dayNumb: this._dayNumb,\r\n            dayIn: this._dayIn,\r\n            dayOut: this._dayOut,\r\n            price: this._price\r\n        };\r\n        await this.db.object('payment/' + (String(this._id))).set(data);\r\n        await this.getStarted();\r\n    }\r\n};\r\nBookingComponent = __decorate([\r\n    Component({\r\n        selector: 'app-booking',\r\n        templateUrl: './booking.component.html',\r\n        styleUrls: ['./booking.component.css'],\r\n        providers: [MessageService]\r\n    })\r\n], BookingComponent);\r\nexport { BookingComponent };\r\nclass Booking {\r\n}\r\n"]},"metadata":{},"sourceType":"module"}